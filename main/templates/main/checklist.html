{% extends "main/base.html" %}

{# Without the static tag, static files cannot be used #}
{% load static %}

{% block content %}
<h1>Create Checklist</h1>
<div>
    <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        <fieldset class="form-group">
            <legend class="border-bottom mb-4">Create Checklist</legend>

            {{ form.non_field_errors }}

            {% for hidden_field in form.hidden_fields %}
            {{ hidden_field.errors }}
            {{ hidden_field }}
            {% endfor %}

            <table border="1">
                {% for field in form.visible_fields %}
                <tr>
                    <th>{{ field.label_tag }}</th>
                    <td>
                        {{ field.errors }}
                        {{ field }}
                        {{ field.help_text }}
                    </td>
                </tr>
                {% endfor %}
                <tr>
                    <th>Questions</th>
                    <td>
                        <select name="questions" id="questions" multiple>
                            {% if not questions %}
                            <option value="" selected>---------</option>
                            {% else %}
                            {% for question in questions %}
                            <option value="{{ question.id }}"><a href="#">{{ question.title }}</a></option>
                            {% endfor %}
                            {% endif %}
                        </select>
                        <br>
                        <a href="{% url 'main-question_add' %}?next={% url 'main-checklist_add' %}">Add question</a>
                        <!-- This should be a + sign with a tooltip saying 'add question' -->
                    </td>
                </tr>
            </table>

        </fieldset>
        <div class="form-group">
            <button class="btn btn-outline-info" type="submit">{{ ok_button_text }}</button>
        </div>
    </form>
</div>
{% if checklist %}
<a href="{% url 'main-checklist_delete' checklist_id=checklist.id %}?next={% url 'main-checklist' %}">Delete</a>
{% endif %}
{% endblock content %}